import{u as h}from"./useApi-DRAEV3NR.js";import{d as C,r as U,o,c as r,b as a,a as c,w as i,t as p,e as v,f as j,g as A,F as g,h as m,E as F,i as L,j as P,k as f,l as $,m as D,n as O}from"./index-C69C0BU0.js";const I={class:"flex rounded-2xl overflow-hidden w-full"},M={class:"w-[40%]"},R=["src"],T={class:"bg-[#3b3e43] p-3 text-white w-[60%] flex flex-col gap-3"},q={class:"text-2xl hover:text-[#fb9603]"},G={class:"flex items-center gap-2"},H=a("p",null,"-",-1),J=a("p",{class:"text-xl"},"Last known location:",-1),K={class:"flex items-center gap-2"},Q={class:"hover:text-[#fb9603]"},W=a("p",{class:"text-xl"},"First seen in:",-1),X={class:"flex items-center gap-2"},Y=C({__name:"CCardCharacter",props:{character:{}},setup(x){const e=x,_=u=>{const d=u.split("/");return d[d.length-1]};return(u,d)=>{const s=U("router-link");return o(),r("div",I,[a("div",M,[a("img",{src:e.character.image,alt:""},null,8,R)]),a("div",T,[a("div",null,[c(s,{to:`/character/${e.character.id}`},{default:i(()=>[a("p",q,p(e.character.name),1)]),_:1},8,["to"]),a("div",G,[a("p",null,p(e.character.status),1),H,a("p",null,p(e.character.species),1)])]),a("div",null,[J,a("div",K,[c(s,{to:`/locations/${_(e.character.url)}`},{default:i(()=>[a("p",Q,p(e.character.location.name),1)]),_:1},8,["to"])])]),a("div",null,[W,a("div",X,[a("p",null,p(e.character.origin.name),1)])])])])}}}),Z={class:"flex items-center justify-end gap-3"},ee={key:0},ae={class:"py-[20px] grid md:grid-cols-2 grid-cols-1 gap-3"},te={key:1,class:"my-5"},se=C({__name:"PCharacters",setup(x){const e=v(),_=v(),u=v(1),d=v([{label:"Dead",value:"dead"},{label:"Alive",value:"alive"},{label:"Unknown",value:"unknown"}]),s=j({name:"",status:""}),V=async()=>{e.value=null,await h().$get(`/character?name=${s.name}&status=${s.status}`).then(t=>{console.log(t.data),e.value=t.data}).catch(t=>{console.log(t)}).finally(()=>{e.value||(e.value=null)})},B=async()=>{await h().$get("/character").then(t=>{console.log(t.data),e.value=t.data,s.name="",s.status=""}).catch(t=>{console.log(t)}).finally(()=>{e.value||(e.value=null)})},E=async()=>{await h().$get(`/character?page=${u.value}`).then(t=>{console.log(t.data),e.value=t.data}).catch(t=>{console.log(t)})};return A(async()=>{var t;try{await h().$get("/character").then(n=>{e.value=n.data,console.log(n.data)}),_.value=(t=e.value)==null?void 0:t.results.map(n=>({label:n.name,value:n.name}))}catch(n){console.error(n)}}),(t,n)=>{var w;const y=D,b=F,k=L,N=P,S=O;return o(),r(g,null,[a("div",Z,[c(b,{modelValue:s.status,"onUpdate:modelValue":n[0]||(n[0]=l=>s.status=l),placeholder:"Select",size:"large",style:{width:"240px"}},{default:i(()=>[(o(!0),r(g,null,m(d.value,l=>(o(),f(y,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),c(b,{modelValue:s.name,"onUpdate:modelValue":n[1]||(n[1]=l=>s.name=l),placeholder:"Select",size:"large",style:{width:"240px"}},{default:i(()=>[(o(!0),r(g,null,m(_.value,l=>(o(),f(y,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),c(k,{size:"large",type:"primary",onClick:V},{default:i(()=>[$("Submit")]),_:1}),c(k,{size:"large",type:"danger",plain:"",class:"!ml-0",onClick:B},{default:i(()=>[$("Reset")]),_:1})]),e.value?(o(),r("div",ee,[a("div",ae,[(o(!0),r(g,null,m((w=e.value)==null?void 0:w.results,(l,z)=>(o(),f(Y,{key:z,character:l,class:"w-full h-[220px]"},null,8,["character"]))),128))]),c(N,{class:"flex items-center justify-end my-4",background:"",layout:"prev, pager, next","current-page":u.value,"onUpdate:currentPage":n[2]||(n[2]=l=>u.value=l),"page-count":e.value.info.pages,onChange:E},null,8,["current-page","page-count"])])):(o(),r("div",te,[c(S,{closable:!1,title:"Not found anything",type:"info",effect:"dark"})]))],64)}}});export{se as default};
